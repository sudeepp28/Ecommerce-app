<h2>Cart</h2>

@if (cartItems.length > 0) {

  <p><strong>Total items : <span>
    {{cartItems.length}}
  </span></strong></p>
  <button (click)="clearCart()">Clear Cart</button>
   <div class="cart-total">
    <h3>Total: ₹{{ getTotal() }}</h3>
  </div>

  <button (click)="proceedToBuy()">Proceed To Buy</button>
  <a routerLink="/home">
    <button>Continue Shopping</button>
  </a>

  @for (item of cartItems; track item.pid) {
    <div class="cart-item">
      <img [src]="item.src" alt="{{ item.model || item.Product_name || item.name }}" />
      <div class="product-details">

        <h3>{{ item.model || item.Product_name || item.name }}</h3>

        @if (item.type === 'mobile') {
          <p>{{ item.selectedStorage.size }}, <strong>{{ item.selectedColor }}</strong></p>
          <p class="price">Price: ₹{{ item.selectedStorage.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)="decrease(item.pid, item.selectedColor, item.selectedStorage)">−</button>
          <button class="Q" (click)="increase(item.pid, item.selectedColor, item.selectedStorage)">+</button>
          <button (click)="remove(item.pid, item.selectedColor, item.selectedStorage)">
            <i class="fa-solid fa-trash"></i>
          </button>
        } @else if (item.type === 'appliance') {
          <p class="price">Price: ₹{{ item.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)=" Adecrease(item.pid)">−</button>
          <button class="Q" (click)="Aincrease(item.pid)">+</button>
          <button (click)="Aremove(item.pid)">
            <i class="fa-solid fa-trash"></i>
          </button>
        }

        @else if(item.type==='toys'){
           <p class="price">Price: ₹{{ item.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)="Tdecrease(item.pid)">−</button>
          <button class="Q" (click)="Tincrease(item.pid)">+</button>
          <button (click)="Tremove(item.pid)">
            <i class="fa-solid fa-trash"></i>
          </button>
        }
        @else if(item.type==='furniture'){
          <p class="price">Price: ₹{{ item.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)="fdecrease(item.pid)">−</button>
          <button class="Q" (click)="fincrease(item.pid)">+</button>
          <button (click)="fremove(item.pid)">
            <i class="fa-solid fa-trash"></i>
          </button>
        }
        @else if(item.type==='mens'){
          <p class="price">Price: ₹{{ item.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)="mdecrease(item.pid)">−</button>
          <button class="Q" (click)="mincrease(item.pid)">+</button>
          <button (click)="mremove(item.pid)">
            <i class="fa-solid fa-trash"></i>
          </button>
        }
       @else if(item.type==='Womens'){
<p class="price">Price: ₹{{ item.price }}</p>
          <p class="quantity">Quantity: {{ item.quantity }}</p>

          <button class="Q" (click)="Wdecrease(item.pid)">−</button>
          <button class="Q" (click)="Wincrease(item.pid)">+</button>
          <button (click)="Wremove(item.pid)">
            <i class="fa-solid fa-trash"></i>
          </button>
       }

      </div>
    </div>
  }

 
} @else {
  <div class="cart-empty-message">Your cart is empty.</div>
}
